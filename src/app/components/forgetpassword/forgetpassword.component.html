


<section>
<div class="container">

    @if (step==1) {
        <form [formGroup]="verifyEmail" class="bg-main-light shadow rounded-4 p-3" (ngSubmit)="step1()">
        <div class="my-3">
                    <label for="email">{{"forgot.email:" |translate}}  </label>
                    <input formControlName="email" type="email" id="email" class="form-control ">
                    
        </div>
        @if(verifyEmail.get('email')?.errors && (verifyEmail.get('email')?.touched ||verifyEmail.get('email')?.dirty))
        {
            <div class="alert alert-danger w-50">
                @if(verifyEmail.get('email')?.getError('required')){
                   <p class="m-0">required</p> 
                }
                @else if (verifyEmail.get('email')?.getError('email')) {
    
                        <p class="m-0"> Enter Valid Email</p>
    
                }
        
       </div> 
        }

        <button [disabled]="verifyEmail.invalid" class="btn-main">{{"forgot.verify email" |translate}} 
            @if (isLoading) { <span><i class="fas fa-spin fa-spinner"></i></span>}
        </button>
       
        
      




    </form>
    }




@else if (step==2) {
    <form [formGroup]="verifyCode" class="bg-main-light shadow rounded-4 p-3 " (ngSubmit)="step2()">
        <div class="my-3">
                    <label for="email"> {{"forgot.verify Code" |translate}}</label>
                    <input formControlName="resetCode" type="text" id="resetCode" class="form-control ">   
        </div>
        @if(verifyCode.get('resetCode')?.errors && (verifyCode.get('resetCode')?.touched || verifyCode.get('resetCode')?.dirty))
        {
            <div class="alert alert-danger w-50">
                @if(verifyCode.get('resetCode')?.getError('required')){
                   <p class="m-0">required</p> 
                }
                @else if (verifyCode.get('resetCode')?.getError('pattern')) {
    
                        <p class="m-0"> Enter Valid resetCode</p>
    
                }
        
       </div> 
        }
      
        <button [disabled]="verifyCode.invalid" class="btn-main">{{"forgot.verify Code" |translate}} 
            @if (isLoading) { <span><i class="fas fa-spin fa-spinner"></i></span>}
        </button>
       
        
        
        




    </form>
}

@else if (step==3) {
    
    <form [formGroup]="resetPassword" class="bg-main-light shadow rounded-4 p-3" (ngSubmit)="step3()" >
        <div class="my-3">
                    <label for="email">{{"forgot.email:" |translate}} </label>
                    <input readonly formControlName="email" type="email" id="email" class="form-control ">    
        </div>
        @if(verifyEmail.get('email')?.errors && (verifyEmail.get('email')?.touched ||verifyEmail.get('email')?.dirty))
        {
            <div class="alert alert-danger w-50">
                @if(verifyEmail.get('email')?.getError('required')){
                   <p class="m-0">required</p> 
                }
                @else if (verifyEmail.get('email')?.getError('email')) {
    
                        <p class="m-0"> Enter Valid Email</p>
    
                }
        
       </div> 
        }


        <div class="my-3">
            <label for="email">{{"forgot.newPassword:" |translate}}  </label>
            <input formControlName="newPassword" type="password" id="newPassword" class="form-control ">
            
</div>
@if(resetPassword.get('newPassword')?.errors && (resetPassword.get('newPassword')?.touched || resetPassword.get('newPassword')?.dirty))
{
    <div class="alert alert-danger w-50">
        @if(resetPassword.get('newPassword')?.getError('required')){
           <p class="m-0">required</p> 
        }
        @else if (resetPassword.get('newPassword')?.getError('pattern')) {

                <p class="m-0"> Enter Valid newPassword</p>

        }

</div> 
}
      
        <button [disabled]="resetPassword.invalid" class="btn-main">{{"forgot.Reset Password" |translate}} 

            @if (isLoading) { <span><i class="fas fa-spin fa-spinner"></i></span>}
        </button>
       
        
      




    </form>
}

    

   
    

</div>
    
</section>
